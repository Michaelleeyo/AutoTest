运行测试
"-s"参数用于关闭捕捉，从而输出打印信息，“-v”参数用于增加测试用例冗长
1.运行名称中包含某个字符串的测试用例
pytest -k add test_assert.py
2.减少测试的运行冗长--quiet
pytest -q test_assert.py
3.如果出现一条测试用例失败，则退出测试
pytest -x test_fail.py
4.指定运行测试目录
pytest ./test_dir
5.指定特定类或方法执行，文件名、类名、方法名之间用“::”符合分隔
pytest test_fixture_02.py::TestMultiply::test_numbers_5_6
6.通过main()方法运行测试
import pytest
if __name__ == '__main__':
pytest.main(['-s', './test_dir']) 
7.并发运行测试用例
Pytest -n 4


生成测试报告
1.生成JUnitXML文件。XML日志主要用于存放测试结果，方便利用里面的数据定制自己的报告
pytest ./test_dir --junit-xml=./report/log.xml 
pytest --html=./report.html
2.生成在线测试报告
pytest ./test_dir --pastebin=all 
3.conftest.py
例：
import pytest
# 设置测试钩子
@pytest.fixture()
def test_url():
return "http://www.baidu.com" 

def test_baidu(test_url):
print(test_url) 

pytest -s -v test_project\ 


pytest扩展
1.pytest-html
pytest ./ --html=./report/result.html 
2.pytest-rerunfailures  通过"--reruns"参数设置测试用例运行失败的重复次数
pytest -v test_rerunfailures.py --reruns 3 
3.pytest-parallel
例parallel.py ：
from time import sleep
def test_01():
sleep(3)
def test_02():
sleep(5)
def test_03():
sleep(6) 
pytest -q test_parallel.py 
pytest -q test_parallel.py --tests-per-worker auto 
